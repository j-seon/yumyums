<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>파티 만들기</title>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="../../css/party/party_detail.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		var  loginUserId = "[[${session.loginUser.memberId}]]";

		// 파티멤버의 인원수 가져오기
		var partyMembersSize = [[${partyDTO.partyMemberCount}]]; // 리스트 크기를 JavaScript 변수로 가져옵니다.
	</script>
	<script src="../../js/party/partyDetail.js"></script>
</head>
<body>
<div class="container">
	<div class="party-container">

		<div class="party-header">
			<!-- 선택한 상점 제목 -->
			<div class="store-name">
				<span th:text="${partyDTO.storeDTO.name}"></span>
			</div>
			<!-- //선택한 상점 제목 -->

			<!-- 랜덤매칭 버튼 -->
			<div class="join-type">
				<input type="checkbox" name="" id="">
			</div>
			<!-- //랜덤매칭 버튼 -->
		</div>

		<!-- 회원리스트, 4명 단위로 끊어서 넘길 것 -->
		<div class="party-main">
			<div th:each="partyMember : ${partyDTO.partyMemberDTOs}">
				<!-- 파티원 한명 정보(파티장)-->
				<th:block th:if="${partyMember.isPartyLeader}">
					<div class="party-member">
						<div>
							<img src="" alt="회원 프로필 사진">
						</div>
						<div>
							<i class="bi bi-stars text-secondary" alt="파티장 왕관"></i>
							<span>파티장</span>
						</div>
						<div>
							<span th:text="${partyMember.memberDTO.name}"></span>
						</div>
					</div>
					<input type="hidden" name="party-leader-id" th:value="${partyMember.memberDTO.getMemberId()}">
				</th:block>
				<!-- //파티원 한명 정보(파티장)-->
			</div>

			<div th:if="${partyDTO.partyMemberCount} > 1" th:each="partyMember : ${partyDTO.partyMemberDTOs}">
				<!-- 파티원 한명 정보(파티원)-->
				<th:block th:unless="${partyMember.isPartyLeader}">
					<div class="party-member">
						<div>
							<img src="" alt="회원 프로필 사진">
						</div>
						<div>
							<span>파티원</span>
						</div>
						<div>
							<span th:text="${partyMember.memberDTO.name}"></span>
						</div>
					</div>
				<!-- //파티원 한명 정보(파티원)-->
				</th:block>
			</div>

			<!-- 파티 초대 -->
			<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-person-plus w-25 " viewBox="0 0 16 16" onclick="partyInvate()" alt="파티초대 이미지">
				<path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
				<path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5"/>
			</svg>
			<!-- //파티 초대 -->
		</div>
		<!-- //회원리스트, 4명 단위로 끊어서 넘길 것 -->


		<div class="party-footer">
			<!-- 링크로 초대 -->
			<div class="join-link-container">
				<div><span>링크로 초대</span></div>
				<div>
					<span id="join-party-url" th:text="${siteLink + joinPartyKey}"></span>
					<input type="hidden" name="joinPartyKey" th:value="${joinPartyKey}">
				</div>
				<!-- 복사 버튼 -->
				<div  onclick="copyUrlToClipboard()">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
						<path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"/>
					</svg>
					<span>복사</span>
				</div>
				<!-- //복사 버튼 -->
			</div>
			<!-- //링크로 초대 -->

			<div class="party-button">
				<input type="button" value="메뉴 선택 시작">
			</div>
		</div>

	</div>
</div>
</body>
</html>
