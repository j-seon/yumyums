<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="css/party/party_main.css">
</head>
<body>
	<div class="party-container">
		<div class="party-form">
			<div class="party-form-header">
				<img src="header_image.png" alt="Party Header" style="margin-right: 10px;">
				<span>파티 매칭</span>
			</div>

			<form th:action="@{/match}" th:object="${matchRequestDTO}" th:with="storeName=${storeName}" method="post">
				<!-- 매칭할 가게 설정 -->
				<div class="party-form-find-store">
					<span>주문할 가게: </span>
					<input type="text" class="store-name" th:name="storeName" th:value="${storeName}" id="store_name" readonly>
					<input type="button" class="find-store-button" value="찾아보기" onclick="openFindStoreForm()">
				</div>
				<!-- //매칭할 가게 설정 -->

				<!-- 매칭 옵션 설정 -->
				<div class="party-option">
					<div class="party-option-header">
						<img src="option_header_image.png" alt="Option Header" style="margin-right: 10px;">
						<span>매칭 조건 (Option)</span>
					</div>


					<div class="party-option-item">
						<div class="radio-container">
							<input type="hidden" th:field="*{matching}" value="true">
						</div>
					</div>

					<div class="party-option-item">
						<span>결제방식: </span>
						<div class="radio-container">
							<input type="radio" name="pay_type" th:field="*{payType}" value="DOUTCH">
							<span>각자결제</span>
							<input type="radio" name="pay_type" th:field="*{payType}" value="SPLIT">
							<span>분할결제</span>
						</div>
					</div>

					<div class="party-option-item">
						<span>최대 파티 인원: </span>
						<select th:field="*{maxMemberCount}" class="radio-container random">
							<option  th:each=" maxMemberCount : ${randomPartyMaxMemberCount}" th:value="${maxMemberCount}"
									 th:text="${maxMemberCount}"></option>
						</select>
					</div>

					<button type="submit">매칭시작</button>
				</div>
				<!-- //매칭 옵션 설정 -->
			</form>
		</div>
	</div>




	<!-- 가게 검색 -->
	<div class="find-store-container">
		<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="staticBackdropLabel">주문할 가게 찾기</h1>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>

					<div class="modal-body">
						<!-- 가게 검색창 -->
						<div class="find-store-area">
							<input id="keyword" class="form-control me-2" type="text" placeholder="가게명 검색" aria-label="Search" oninput="findStores(event)">

							<!-- 검색된 상점목록 -->
							<ul class="store-list list-group">
							</ul>
							<!-- //검색된 상점목록 -->

						</div>
						<!-- //가게 검색창 -->

						<!-- 선택후 보여지는 정보 -->
						<div class="store-info d-none">
							<input type="hidden" class="form-control" name="stnum" id="stnum">
							<div class="row">
								<div class="col-md-12 col-lg-4">
									<div class="form-item w-100">
										<label class="form-label my-3" for="name">가게명</label>
										<input type="text" class="form-control" id="name" readonly>
									</div>
								</div>
								<div class="col-md-12 col-lg-8">
									<div class="form-item w-100">
										<label class="form-label my-3" for="address">주소</label>
										<input type="text" class="form-control" id="address" readonly>
									</div>
								</div>
								<div class="col-md-12 col-lg-8">
									<div class="form-item w-100">
										<label class="form-label my-3" for="category">카테고리</label>
										<input type="text" class="form-control" id="category" readonly>
									</div>
								</div>
							</div>
						</div>
						<!-- //선택후 보여지는 정보 -->

					</div>

					<!-- 재검색, 선택 버튼 -->
					<div class="modal-footer d-none">
						<button type="button" class="btn btn-secondary" onclick="resetFindStores()">재검색</button>
						<button type="button" class="btn btn-primary" onclick="selectStore();" data-bs-dismiss="modal">선택하기</button>
					</div>
					<!-- //재검색, 선택 버튼 -->
				</div>
			</div>
		</div>
	</div>

</body>
</html>